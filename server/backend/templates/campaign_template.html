<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="Trustless and serverless crowdfunding and crowdloaning dApp with NFT dex." />

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/bulma-extensions@6.2.7/dist/js/bulma-extensions.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma-extensions@6.2.7/dist/css/bulma-extensions.min.css"></link>

    <script src="https://use.fontawesome.com/releases/v5.0.13/js/all.js"></script>

    <link href="https://fonts.cdnfonts.com/css/sofia-pro" rel="stylesheet"></link>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/web3/1.6.1-rc.2/web3.min.js" integrity="sha512-KURAVUCRxZKDemghhiNqTnYzVPUtO3GYznBZRWRBT2GJJ5PmePAxfO7QMGCM8xUJ0QfrUYJDrtRJM4L4NOtfow==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js" integrity="sha512-qTXRIMyZIFb8iQcfjXWCO8+M5Tbc38Qi5WzdPOYZHIlZpzBHG3L3by84BBBOiRGiEb7KKtAOAs5qYdUiZiQNNQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <title>trustless-crowd</title>

    <script>

        const networkConfig = {
          '0x61': {
            'image': 'https://gateway.pinata.cloud/ipfs/Qmau5DqcdFWuw64pKmcupkFh8GPeHM9uekKHfjPnNDwwvN',
            'explorer': 'https://bscscan.com/',
            'network': 'bnb'
          },
          '0x13881': {
            'image': 'https://gateway.pinata.cloud/ipfs/QmdeNFYKvKnAcATkQ9qtp24TP6t73gT6Po8zmvJTuC8YVg',
            'explorer': 'https://polygonscan.com/',
            'network': 'polygon'
          }
        };

        let cfAbi = [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "usdc_address",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "sender",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "_uri",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "number_of_days",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256[]",
          "name": "amounts",
          "type": "uint256[]"
        },
        {
          "indexed": false,
          "internalType": "uint256[]",
          "name": "prices",
          "type": "uint256[]"
        }
      ],
      "name": "CampaignCreated",
      "type": "event"
    },
    {
      "stateMutability": "payable",
      "type": "fallback"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "avatars",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "campaign_count",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "_uri",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "number_of_days",
          "type": "uint256"
        },
        {
          "internalType": "uint256[]",
          "name": "amounts",
          "type": "uint256[]"
        },
        {
          "internalType": "uint256[]",
          "name": "prices",
          "type": "uint256[]"
        },
        {
          "internalType": "string",
          "name": "title",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "image_url",
          "type": "string"
        }
      ],
      "name": "create_campaign",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "deployed_campaigns",
      "outputs": [
        {
          "internalType": "contract Campaign",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "dev_addres",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "donate_to_dev",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "campaign_id",
          "type": "uint256"
        }
      ],
      "name": "get_campaign",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        }
      ],
      "name": "get_campaign_owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "get_deployed_campaigns",
      "outputs": [
        {
          "internalType": "contract Campaign[]",
          "name": "",
          "type": "address[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "nicknames",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "image_url",
          "type": "string"
        }
      ],
      "name": "set_avatar",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "nickname",
          "type": "string"
        }
      ],
      "name": "set_nickname",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "name": "uri_id",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "stateMutability": "payable",
      "type": "receive"
    }
  ];
        let campaignAbi = [
    {
      "inputs": [
        {
          "internalType": "contract ERC20",
          "name": "_usdc_contract",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "creator",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "_uri",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "number_of_days",
          "type": "uint256"
        },
        {
          "internalType": "uint256[]",
          "name": "amounts",
          "type": "uint256[]"
        },
        {
          "internalType": "uint256[]",
          "name": "supplies",
          "type": "uint256[]"
        },
        {
          "internalType": "string",
          "name": "_title",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "_image_url",
          "type": "string"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "account",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "operator",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "bool",
          "name": "approved",
          "type": "bool"
        }
      ],
      "name": "ApprovalForAll",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "CollateralDeposited",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "commentor",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "content",
          "type": "string"
        }
      ],
      "name": "CommentAdded",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "sender",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "value",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "funding_balance",
          "type": "uint256"
        }
      ],
      "name": "Donated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "order_id",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "taker",
          "type": "address"
        }
      ],
      "name": "OrderCalled",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "order_id",
          "type": "uint256"
        }
      ],
      "name": "OrderCanceled",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "order_id",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "enum ERC1155Dex.OrderType",
          "name": "order_type",
          "type": "uint8"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "nft_id",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "maker",
          "type": "address"
        }
      ],
      "name": "OrderPosted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "sender",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "Refunded",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "sender",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "funding_balance",
          "type": "uint256"
        }
      ],
      "name": "RewardBought",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "sender",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "RewardClaimed",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "RewardSupplyIncreased",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "operator",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "from",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "to",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256[]",
          "name": "ids",
          "type": "uint256[]"
        },
        {
          "indexed": false,
          "internalType": "uint256[]",
          "name": "values",
          "type": "uint256[]"
        }
      ],
      "name": "TransferBatch",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "operator",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "from",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "to",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "value",
          "type": "uint256"
        }
      ],
      "name": "TransferSingle",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "string",
          "name": "value",
          "type": "string"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        }
      ],
      "name": "URI",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "content",
          "type": "string"
        }
      ],
      "name": "UpdateAdded",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "sender",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "pool_balance",
          "type": "uint256"
        }
      ],
      "name": "Withdrawn",
      "type": "event"
    },
    {
      "stateMutability": "payable",
      "type": "fallback"
    },
    {
      "inputs": [],
      "name": "MIN_PRICE",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "content",
          "type": "string"
        }
      ],
      "name": "add_comment",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "content",
          "type": "string"
        }
      ],
      "name": "add_update",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "amount_count",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        }
      ],
      "name": "balanceOf",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address[]",
          "name": "accounts",
          "type": "address[]"
        },
        {
          "internalType": "uint256[]",
          "name": "ids",
          "type": "uint256[]"
        }
      ],
      "name": "balanceOfBatch",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        }
      ],
      "name": "buy_reward",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "order_id",
          "type": "uint256"
        }
      ],
      "name": "call_ask",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "order_id",
          "type": "uint256"
        }
      ],
      "name": "call_bid",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "order_id",
          "type": "uint256"
        }
      ],
      "name": "cancel_ask",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "order_id",
          "type": "uint256"
        }
      ],
      "name": "cancel_bid",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "claim_reward",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "claimed_count",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "comment_count",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "comments",
      "outputs": [
        {
          "internalType": "address",
          "name": "commentor",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "content",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "deadline",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "deposit_collateral",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "funding_balance",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "funding_goal",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "comment_id",
          "type": "uint256"
        }
      ],
      "name": "get_comment",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "update_id",
          "type": "uint256"
        }
      ],
      "name": "get_update",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "id_reward",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "collateral",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "total_supply",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "current_supply",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "ids",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "image_url",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "increase_reward_supply",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "operator",
          "type": "address"
        }
      ],
      "name": "isApprovedForAll",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "is_deposited",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "is_funded",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "order_count",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "orders",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "order_id",
          "type": "uint256"
        },
        {
          "internalType": "enum ERC1155Dex.OrderType",
          "name": "order_type",
          "type": "uint8"
        },
        {
          "internalType": "uint256",
          "name": "nft_id",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "completed",
          "type": "bool"
        },
        {
          "internalType": "address",
          "name": "maker",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "nft_id",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        }
      ],
      "name": "post_ask",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "order_id",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "nft_id",
          "type": "uint256"
        }
      ],
      "name": "post_bid",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "order_id",
          "type": "uint256"
        }
      ],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "refund_count",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "from",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "to",
          "type": "address"
        },
        {
          "internalType": "uint256[]",
          "name": "ids",
          "type": "uint256[]"
        },
        {
          "internalType": "uint256[]",
          "name": "amounts",
          "type": "uint256[]"
        },
        {
          "internalType": "bytes",
          "name": "data",
          "type": "bytes"
        }
      ],
      "name": "safeBatchTransferFrom",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "from",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "to",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "bytes",
          "name": "data",
          "type": "bytes"
        }
      ],
      "name": "safeTransferFrom",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "info",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        }
      ],
      "name": "send_encrypted_info",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "operator",
          "type": "address"
        },
        {
          "internalType": "bool",
          "name": "approved",
          "type": "bool"
        }
      ],
      "name": "setApprovalForAll",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes4",
          "name": "interfaceId",
          "type": "bytes4"
        }
      ],
      "name": "supportsInterface",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "title",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "update_count",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "updates",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "content",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "uri",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "withdraw",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "stateMutability": "payable",
      "type": "receive"
    }
  ];
        let tokenAbi = [
          {
            "inputs": [],
            "stateMutability": "nonpayable",
            "type": "constructor"
          },
          {
            "anonymous": false,
            "inputs": [
              {
                "indexed": true,
                "internalType": "address",
                "name": "owner",
                "type": "address"
              },
              {
                "indexed": true,
                "internalType": "address",
                "name": "spender",
                "type": "address"
              },
              {
                "indexed": false,
                "internalType": "uint256",
                "name": "value",
                "type": "uint256"
              }
            ],
            "name": "Approval",
            "type": "event"
          },
          {
            "anonymous": false,
            "inputs": [
              {
                "indexed": true,
                "internalType": "address",
                "name": "from",
                "type": "address"
              },
              {
                "indexed": true,
                "internalType": "address",
                "name": "to",
                "type": "address"
              },
              {
                "indexed": false,
                "internalType": "uint256",
                "name": "value",
                "type": "uint256"
              }
            ],
            "name": "Transfer",
            "type": "event"
          },
          {
            "inputs": [
              {
                "internalType": "address",
                "name": "owner",
                "type": "address"
              },
              {
                "internalType": "address",
                "name": "spender",
                "type": "address"
              }
            ],
            "name": "allowance",
            "outputs": [
              {
                "internalType": "uint256",
                "name": "",
                "type": "uint256"
              }
            ],
            "stateMutability": "view",
            "type": "function"
          },
          {
            "inputs": [
              {
                "internalType": "address",
                "name": "spender",
                "type": "address"
              },
              {
                "internalType": "uint256",
                "name": "amount",
                "type": "uint256"
              }
            ],
            "name": "approve",
            "outputs": [
              {
                "internalType": "bool",
                "name": "",
                "type": "bool"
              }
            ],
            "stateMutability": "nonpayable",
            "type": "function"
          },
          {
            "inputs": [
              {
                "internalType": "address",
                "name": "account",
                "type": "address"
              }
            ],
            "name": "balanceOf",
            "outputs": [
              {
                "internalType": "uint256",
                "name": "",
                "type": "uint256"
              }
            ],
            "stateMutability": "view",
            "type": "function"
          },
          {
            "inputs": [],
            "name": "decimals",
            "outputs": [
              {
                "internalType": "uint8",
                "name": "",
                "type": "uint8"
              }
            ],
            "stateMutability": "view",
            "type": "function"
          },
          {
            "inputs": [
              {
                "internalType": "address",
                "name": "spender",
                "type": "address"
              },
              {
                "internalType": "uint256",
                "name": "subtractedValue",
                "type": "uint256"
              }
            ],
            "name": "decreaseAllowance",
            "outputs": [
              {
                "internalType": "bool",
                "name": "",
                "type": "bool"
              }
            ],
            "stateMutability": "nonpayable",
            "type": "function"
          },
          {
            "inputs": [
              {
                "internalType": "address",
                "name": "spender",
                "type": "address"
              },
              {
                "internalType": "uint256",
                "name": "addedValue",
                "type": "uint256"
              }
            ],
            "name": "increaseAllowance",
            "outputs": [
              {
                "internalType": "bool",
                "name": "",
                "type": "bool"
              }
            ],
            "stateMutability": "nonpayable",
            "type": "function"
          },
          {
            "inputs": [],
            "name": "name",
            "outputs": [
              {
                "internalType": "string",
                "name": "",
                "type": "string"
              }
            ],
            "stateMutability": "view",
            "type": "function"
          },
          {
            "inputs": [],
            "name": "symbol",
            "outputs": [
              {
                "internalType": "string",
                "name": "",
                "type": "string"
              }
            ],
            "stateMutability": "view",
            "type": "function"
          },
          {
            "inputs": [],
            "name": "totalSupply",
            "outputs": [
              {
                "internalType": "uint256",
                "name": "",
                "type": "uint256"
              }
            ],
            "stateMutability": "view",
            "type": "function"
          },
          {
            "inputs": [
              {
                "internalType": "address",
                "name": "recipient",
                "type": "address"
              },
              {
                "internalType": "uint256",
                "name": "amount",
                "type": "uint256"
              }
            ],
            "name": "transfer",
            "outputs": [
              {
                "internalType": "bool",
                "name": "",
                "type": "bool"
              }
            ],
            "stateMutability": "nonpayable",
            "type": "function"
          },
          {
            "inputs": [
              {
                "internalType": "address",
                "name": "sender",
                "type": "address"
              },
              {
                "internalType": "address",
                "name": "recipient",
                "type": "address"
              },
              {
                "internalType": "uint256",
                "name": "amount",
                "type": "uint256"
              }
            ],
            "name": "transferFrom",
            "outputs": [
              {
                "internalType": "bool",
                "name": "",
                "type": "bool"
              }
            ],
            "stateMutability": "nonpayable",
            "type": "function"
          }
        ];
        // Binance Testnet        
        let tokenAddress = '0xb190945026d384378cFF9394C6Eb0ee26fB0135B';
        let sampleCFAddress = '0x172D3f476C58d04060e598Aa4D03036e1cC72d8c';
        let mmConnected = false;
        let projectMock = {
            "title": "#TITLEMOCK#", 
            "subtitle": "#SUBTITLEMOCK#", 
            "location": "#LOCATIONMOCK#",
            "category": "#CATEGORYMOCK#",
            "email": "#EMAIL#",
            "subcategory": "Other", 
            "story": "#STORYMOCK#", 
            "created_at": parseInt("#CREATEDATEMOCK#"),
            "featured_image": "#IMAGEMOCK#",
            "youtube_uri": "#YOUTUBEURLMOCK#", 
            "rewards": '#REWARDS#'
        };

        let campaign = undefined;
        let cf = undefined;
        let campaignAddress = undefined;
        let token = undefined;
        let campaignRewards = undefined;
        let loadedCommentCount = 0;
        let loadedUpdateCount = 0;
        
        async function loadContractData(contractAddress) {
          connectWalledClicked();

          window.web3 = new Web3(window.ethereum);
          cf = new window.web3.eth.Contract(cfAbi, contractAddress); 
          [cid, ciderr] = await safePromise(cf.methods.uri_id(window.location.href).call({ from: window.ethereum.selectedAddress }));
          if (ciderr) {
            console.log(ciderr);
            return;
          }

          [campaignAddress, caerr] = await safePromise(cf.methods.get_campaign(cid).call({ from: window.ethereum.selectedAddress }));
          if (caerr) {
            console.log(caerr);
            return;
          }

          token = new window.web3.eth.Contract(tokenAbi, tokenAddress); 
          campaign = new window.web3.eth.Contract(campaignAbi, campaignAddress); 
          [campaignUrl, uriErr] = await safePromise(campaign.methods.uri(0).call({ from: window.ethereum.selectedAddress }));
          if (uriErr) {
            console.log(uriErr);
            return;
          }

          [fundingGoal, fgErr] = await safePromise(campaign.methods.funding_goal().call({ from: window.ethereum.selectedAddress }));
          if (fgErr) {
            console.log(fgErr);
            return;
          }

          [fundingBalance, fbErr] = await safePromise(campaign.methods.funding_balance().call({ from: window.ethereum.selectedAddress }));
          if (fbErr) {
            console.log(fbErr);
            return;
          }

          [owner, oerr] = await safePromise(campaign.methods.owner().call({ from: window.ethereum.selectedAddress }));
          if (oerr) {
            console.log(oerr);
            return;
          }

          [funded, ferr] = await safePromise(campaign.methods.is_funded().call({ from: window.ethereum.selectedAddress }));
          if (ferr) {
            console.log(ferr);
            return;
          }
          [deadline, derr] = await safePromise(campaign.methods.deadline().call({ from: window.ethereum.selectedAddress }));
          if (derr) {
            console.log(derr);
            return;
          }
          const timestamp = (await web3.eth.getBlock(await web3.eth.getBlockNumber())).timestamp;

          [commentCount, ccerr] = await safePromise(campaign.methods.comment_count().call({ from: window.ethereum.selectedAddress }));
          if (ccerr) {
            console.log(ccerr);
            return;
          }

          const [updateCount, ucerr] = await safePromise(campaign.methods.update_count().call({ from: window.ethereum.selectedAddress }));
          if (ucerr) {
            console.log(ucerr);
            return;
          }

          projectMock.rewards = JSON.parse(projectMock.rewards);
          const data = projectMock;
          for (let i = 0; i < data.rewards.length; i++) {
            const [r, rerr] = await safePromise(campaign.methods.id_reward(i).call({ from: window.ethereum.selectedAddress }));
            data.rewards[i].collateral = window.web3.utils.fromWei(r.collateral) + " USDT";
            data.rewards[i].collateralWei = r.collateral;
            data.rewards[i].currentSupply = r.current_supply;
            data.rewards[i].totalSupply = r.total_supply;
            data.rewards[i].left = r.current_supply + " / " + r.total_supply;
            data.rewards[i].price = window.web3.utils.fromWei(r.price) + " USDT";
          }
          campaignRewards = data.rewards;
          loadIpfsData(data);

          $("#coinImg").attr("src", networkConfig[window.ethereum.chainId].image);
          $("#fundingGoalP").text(window.web3.utils.fromWei(fundingGoal).toLocaleString('en-US') + " USDT");
          $("#fundingBalanceS").text(window.web3.utils.fromWei(fundingBalance).toLocaleString('en-US') + " USDT");
          $("#fundingGoalS").text(" raised of " + window.web3.utils.fromWei(fundingGoal).toLocaleString('en-US') + " USDT goal. ");
          $('#progressBar').attr("value", 100 * fundingBalance / fundingGoal);
          if (owner.toLowerCase() === window.ethereum.selectedAddress.toLowerCase()) {
            $('#withdrawButton').css('display', 'block');
          }
          if (funded && timestamp >= deadline) {
            $('#withdrawButton').removeAttr('disabled');
          }

          const endingDate = moment(new Date(deadline*1000));
          const now = moment();
          if (now.isSameOrAfter(endingDate)) {
            $("#dateTimeS").text("Campaign ended on: " + endingDate.format('MMMM Do YYYY'));
          } else {
            $("#dateTimeS").text(timestampToTimeLeft(deadline));
          }

          $('#commentsHeader').text('Comments (' + commentCount + ')');
          loadedCommentCount = Math.min(3, commentCount);
          for(let i = 0; i < commentCount; i++) {
            if (i === 3) break;
            loadComment(i);            
          }
          if (loadedCommentCount < commentCount) {
            $('#loadCommentsButton').css("display", "inline");
          }

          $('#updatesHeader').text('Updates (' + updateCount + ')');
          if (owner.toLowerCase() === window.ethereum.selectedAddress.toLowerCase()) {
            $('#updateArticle').css('display', 'inline');
          }
          loadedUpdateCount = Math.min(3, updateCount);
          for(let i = 0; i < updateCount; i++) {
            if (i === 3) break;
            loadUpdate(owner, i);            
          }
          if (loadedUpdateCount < updateCount) {
            $('#loadUpdatesButton').css("display", "inline");
          }
        }

        async function loadCommentsClicked() {
          const [commentCount, ccerr] = await safePromise(campaign.methods.comment_count().call({ from: window.ethereum.selectedAddress }));
          let currLoadedCommentCount = 0;
          for(let i = loadedCommentCount; commentCount > i && i < loadedCommentCount + 3; i++) {
            loadComment(i);
            currLoadedCommentCount++;
          }
          loadedCommentCount += currLoadedCommentCount;
          if (loadedCommentCount === parseInt(commentCount)) {
            $('#loadCommentsButton').css("display", "none");
          }
        }

        async function loadUpdatesClicked() {
          const [updateCount, ucerr] = await safePromise(campaign.methods.update_count().call({ from: window.ethereum.selectedAddress }));
          const [owner, oerr] = await safePromise(campaign.methods.owner().call({ from: window.ethereum.selectedAddress }));
          let currLoadedUpdateCount = 0;
          for(let i = loadedUpdateCount; updateCount > i && i < loadedUpdateCount + 3; i++) {
            loadUpdate(owner, i);
            currLoadedUpdateCount++;
          }
          loadedUpdateCount += currLoadedUpdateCount;
          if (loadedUpdateCount === parseInt(updateCount)) {
            $('#loadUpdatesButton').css("display", "none");
          }
        }

        async function loadComment(id) {
          [comment, cerr] = await safePromise(campaign.methods.get_comment(id).call({ from: window.ethereum.selectedAddress }));
          const address = comment[0];
          const content = comment[1];
          [n, nerr] = await safePromise(cf.methods.nicknames(address).call({ from: window.ethereum.selectedAddress }));
          const nickname = n;
          [avatar, aerr] = await safePromise(cf.methods.avatars(address).call({ from: window.ethereum.selectedAddress }));
          let str_template = '<article class="media"> \
              <figure class="media-left"> \
                <p class="image is-64x64"> \
                  <img src="#AVATAR#"> \
                </p> \
              </figure> \
              <div class="media-content"> \
                <div class="content"> \
                  <p> \
                    <strong>#NICKNAME# - #ADDRESS#</strong> \
                    <br> \
                    #CONTENT# \
                    <br> \
                  </p> \
                </div> \
              </div> \
            <article/>'.replace('#ADDRESS#', address)
              .replace('#NICKNAME#', nickname)
              .replace('#AVATAR#', avatar.trim() === '' ? 'https://bulma.io/images/placeholders/128x128.png' : avatar)
              .replace('#CONTENT#', content);
          $('#commentDiv').append(str_template);
        }

        async function loadUpdate(owner, id) {
          const [update, uerr] = await safePromise(campaign.methods.get_update(id).call({ from: window.ethereum.selectedAddress }));
          const content = update[0];
          const timestamp = update[1];
          const [avatar, aerr] = await safePromise(cf.methods.avatars(owner).call({ from: window.ethereum.selectedAddress }));
          let str_template = '<article class="media"> \
              <figure class="media-left"> \
                <p class="image is-64x64"> \
                  <img src="#AVATAR#"> \
                </p> \
              </figure> \
              <div class="media-content"> \
                <div class="content"> \
                  <p> \
                    <strong>#DATE#</strong> \
                    <br> \
                    #CONTENT# \
                    <br> \
                  </p> \
                </div> \
              </div> \
            <article/>'
              .replace('#AVATAR#', avatar.trim() === '' ? 'https://bulma.io/images/placeholders/128x128.png' : avatar)
              .replace('#DATE#', moment(new Date(timestamp*1000)).format('MM/DD/YYYY HH:mm:ss'))
              .replace('#CONTENT#', content);
          $('#updateDiv').append(str_template);
        }

        async function donateClicked() {
          const donateTxt = $('#donateInput').val().trim();
          if (donateTxt === '') return;
          $('#donateButton').attr('class', 'button is-primary is-loading');
          
          [atx, aerr] = await safePromise(cf.methods.donate_to_dev().send({ from: window.ethereum.selectedAddress, value: window.web3.utils.toWei(donateTxt) }));
          if (aerr) {
            console.log(aerr);
            $('#donateButton').attr('class', 'button is-primary');
            return;
          }

          $('#donateButton').attr('class', 'button is-primary');
        }

        async function setAvatarClicked() {
          const avatarTxt = $('#avatarInput').val().trim();
          if (avatarTxt === '') return;
          $('#avatarButton').attr('class', 'button is-info is-loading');
          
          [atx, aerr] = await safePromise(cf.methods.set_avatar(avatarTxt).send({ from: window.ethereum.selectedAddress }));
          if (aerr) {
            console.log(aerr);
            $('#avatarButton').attr('class', 'button is-info');
            return;
          }

          $('#avatarButton').attr('class', 'button is-info');
        }

        async function setNicknameClicked() {
          const nicknameTxt = $('#nicknameInput').val().trim();
          if (nicknameTxt === '') return;
          $('#nicknameButton').attr('class', 'button is-info is-loading');
          
          [ntx, nerr] = await safePromise(cf.methods.set_nickname(nicknameTxt).send({ from: window.ethereum.selectedAddress }));
          if (nerr) {
            console.log(nerr);
            $('#nicknameButton').attr('class', 'button is-info');
            return;
          }

          $('#nicknameButton').attr('class', 'button is-info');
        }

        function submitCommentClicked() {
          const comment = $('#commentArea').val();
          $('#commentButton').attr('class', 'button is-info is-loading');
          campaign.methods.add_comment(comment).send({ from: window.ethereum.selectedAddress })
            .then(res => {
              $('#commentButton').attr('class', 'button is-info');
            })
            .catch(err => {
              console.log(err);
              $('#commentButton').attr('class', 'button is-info');
             });
        }

        function submitUpdateClicked() {
          const content = $('#updateArea').val();
          $('#updateButton').attr('class', 'button is-info is-loading');
          campaign.methods.add_update(content).send({ from: window.ethereum.selectedAddress })
            .then(res => {
              $('#updateButton').attr('class', 'button is-info');
            })
            .catch(err => {
              console.log(err);
              $('#updateButton').attr('class', 'button is-info');
             });
        }

        function timestampToTimeLeft(timestamp) {
          const endingDate = moment(new Date(timestamp*1000));
          const now = moment();

          if (now.isSameOrAfter(endingDate)) {
            return "Ended. ";
          } else {
            return Math.floor(endingDate.diff(now, "hours") / 24) + "d " + endingDate.diff(now, "hours") % 24 + "h " + endingDate.diff(now, "minutes") % 60 + "m left. "
          }
        }

        async function loadIpfsData(data) {
          $('#title').text(data.title);
          $('#featuredImage').attr('src', data.featured_image);
          if (data.youtube_uri !== '') {
            $('#youtubeFrame').attr('src', 'https://www.youtube.com/embed/' + data.youtube_uri);
          } else {
            $('#youtubeFrame').attr('hidden', 'hidden');
          }
          $('#subtitle').text(data.subtitle);
          $('#location').text(data.location);
          $('#category').text(data.category);
          $('#email').text(data.email);
          $('#createdAt').text(diffTimestamp(data.created_at));
          $('#story').text(data.story);
          const [isFunded, iferr] = await safePromise(campaign.methods.is_funded().call({ from: window.ethereum.selectedAddress }));
          loadRewards(data.rewards, isFunded);
          loadDex(data.rewards);
        }

        async function loadDex(rewards) {
          const [orderCount, ocerr] = await safePromise(campaign.methods.order_count().call({ from: window.ethereum.selectedAddress }));
          const asks = [];
          const bids = [];
          for (let i = 0; i < orderCount; i++) {
            const [order, oerr] = await safePromise(campaign.methods.orders(i).call({ from: window.ethereum.selectedAddress }));
            if (order.order_type === '1' && !order.completed) asks.push(order);
            if (order.order_type === '0' && !order.completed) bids.push(order);
            order.price = parseFloat(window.web3.utils.fromWei(order.price));
          }
          asks.sort((a, b) => a.price < b.price ? 1 : -1);
          bids.sort((a, b) => a.price > b.price ? 1 : -1);

          for (let i = 0; i < rewards.length; i++) {
            const reward = rewards[i];
            const asksForId = asks.filter(ask => parseInt(ask.nft_id) === i);
            const askRows = [];
            for (let j = 0; j < asksForId.length; j++) {
              askRows.push(createDexAskRow(i, asksForId[j]));
            }
            const bidsForId = bids.filter(bid => parseInt(bid.nft_id) === i);
            const bidRows = [];
            for (let j = 0; j < bidsForId.length; j++) {
              bidRows.push(createDexBidRow(i, bidsForId[j]));
            }
            let html = `
              <p class="subtitle has-text-centered">${reward.name}</p>
              <div class="columns">

                <div class="column is-half">
                  <div class="card">
                    <div class="card-content">

                      <div class="field">
                        <table class="table">
                          <thead>
                            <tr>
                              <th>Maker</th>
                              <th>Price</th>
                              <th>Action</th>
                            </tr>
                          </thead>
                          <tbody id="dexAskTable${i}">
                          </tbody>
                        </table>
                      </div>

                      <hr />

                      <div class="field">
                        <div class="columns">

                          <div class="column is-half">
                            <input id="askInput${i}" autoComplete="off" placeholder="Your Ask Price" class="input" type="number" required" maxLength="20"></input>
                            <p id="askInput${i}Error" class="help is-danger" style="display: none;">You Don't Have Sufficient Balance. </p>
                          </div>

                          <div class="column is-half">
                            <div id="askButton${i}" onclick="postAsk(${i})" class="button is-fullwidth is-info is-outlined">Post Ask</div>
                          </div>
                        </div>
                      </div>

                    </div>
                  </div>
                </div>

                <div class="column is-half">
                  <div class="card">
                    <div class="card-content">

                      <div class="field">
                        <table class="table">
                          <thead>
                            <tr>
                              <th>Maker</th>
                              <th>Price</th>
                              <th>Action</th>
                            </tr>
                          </thead>
                          <tbody id="dexBidTable${i}">
                          </tbody>
                        </table>
                      </div>

                      <hr />

                      <div class="field">
                        <div class="columns">

                          <div class="column is-half">
                            <input id="bidInput${i}" autoComplete="off" placeholder="Your Bid Price" class="input" type="number" required" maxLength="20"></input>
                            <p id="bidInput${i}Error" class="help is-danger" style="display: none;">You Don't Have Sufficient Balance. </p>
                          </div>

                          <div class="column is-half">
                            <div id="bidButton${i}" onclick="postBid(${i})" class="button is-fullwidth is-info is-outlined">Post Bid</div>
                          </div>
                        </div>
                      </div>

                    </div>
                  </div>
                </div>

              </div>
            `;
            $('#dexContainer').append(html);
            for (let j = 0; j < askRows.length; j++) {
              $(`#dexAskTable${i}`).append(askRows[j]);
            }
            for (let j = 0; j < bidRows.length; j++) {
              $(`#dexBidTable${i}`).append(bidRows[j]);
            }
          }
        }

        function createDexAskRow(i, ask) {
          const button = ask.maker.toLowerCase() === window.ethereum.selectedAddress ?
                `<div id="cancelAskButton${i}${ask.order_id}" onclick="cancelAsk(${i}, ${ask.order_id})" class="button is-outlined is-danger">Cancel</div>` :
                `<div id="buyAskButton${i}${ask.order_id}" onclick="buyRewardOnDex(${i}, ${ask.order_id})" class="button is-outlined is-primary">Buy</div>`;
          const result = `
            <tr id="dexRow${i}${ask.order_id}">
              <td>${ask.maker.substring(0, 7) + '...' + ask.maker.slice(-5)}</td>
              <td>${ask.price}</td>
              <td>
                ${button}
              </td>
            </tr>`;
          return result;
        }

        function createDexBidRow(i, ask) {
          const button = ask.maker.toLowerCase() === window.ethereum.selectedAddress ?
                `<div id="cancelBidButton${i}${ask.order_id}" onclick="cancelBid(${i}, ${ask.order_id})" class="button is-outlined is-danger">Cancel</div>` :
                `<div id="buyBidButton${i}${ask.order_id}" onclick="sellRewardOnDex(${i}, ${ask.order_id})" class="button is-outlined is-primary">Sell</div>`;
          const result = `
            <tr id="dexRow${i}${ask.order_id}">
              <td>${ask.maker.substring(0, 7) + '...' + ask.maker.slice(-5)}</td>
              <td>${ask.price}</td>
              <td>
                ${button}
              </td>
            </tr>`;
          return result;
        }

        async function postAsk(id) {
          $(`#askButton${id}`).attr('class', 'button is-fullwidth is-info is-outlined is-loading');
          const [balance, berr] = await safePromise(campaign.methods.balanceOf(window.ethereum.selectedAddress, id).call({ from: window.ethereum.selectedAddress }));
          if (balance === '0') {
            $(`#askButton${id}`).attr('class', 'button is-fullwidth is-info is-outlined');
            $(`#askInput${id}Error`).css('display', 'inline');
            return;
          }
          const price = $(`#askInput${id}`).val().trim();
          if (price === '' || parseFloat(price) < 0.000000000000001) {
            $(`#askButton${id}`).attr('class', 'button is-fullwidth is-info is-outlined');
            $(`#askInput${id}Error`).css('display', 'inline');
            $(`#askInput${id}Error`).text('The Price is Too Low. ');
            return;
          }

          const [order, aerr] = await safePromise(campaign.methods.post_ask(id, window.web3.utils.toWei(price)).send({ from: window.ethereum.selectedAddress }));
          if (aerr) {
            $(`#askButton${id}`).attr('class', 'button is-fullwidth is-info is-outlined');
            return;
          }
          const orderId = parseInt(order.events.OrderPosted.returnValues.order_id);
          const [ask, oerr] = await safePromise(campaign.methods.orders(orderId).call({ from: window.ethereum.selectedAddress }));
          ask.price = parseFloat(window.web3.utils.fromWei(ask.price));
          $(`#askButton${id}`).attr('class', 'button is-fullwidth is-info is-outlined');
          $(`#dexAskTable${id}`).append(createDexAskRow(id, ask));
        }

        async function cancelAsk(nftId, orderId) {
          $(`#cancelAskButton${nftId}${orderId}`).attr('class', 'button is-outlined is-danger is-loading');
          const [ask, aerr] = await safePromise(campaign.methods.cancel_ask(orderId).send({ from: window.ethereum.selectedAddress }));
          $(`#cancelAskButton${nftId}${orderId}`).attr('class', 'button is-outlined is-danger');
          if (aerr) return;
          $(`#dexRow${nftId}${orderId}`).css('display', 'none');
        }

        async function buyRewardOnDex(nftId, orderId) {
          $(`#buyAskButton${nftId}${orderId}`).attr('class', 'button is-outlined is-primary is-loading');
          const [ask, oerr] = await safePromise(campaign.methods.orders(orderId).call({ from: window.ethereum.selectedAddress }));
          const [call, cerr] = await safePromise(campaign.methods.call_ask(orderId).send({ from: window.ethereum.selectedAddress, value: ask.price }));
          $(`#buyAskButton${nftId}${orderId}`).attr('class', 'button is-outlined is-primary');
          if (cerr) return;
          $(`#dexRow${nftId}${orderId}`).css('display', 'none');
        }

        async function postBid(id) {
          $(`#bidButton${id}`).attr('class', 'button is-fullwidth is-info is-outlined is-loading');
          const balance = parseFloat(window.web3.utils.fromWei(await web3.eth.getBalance(window.ethereum.selectedAddress)));
          const price = $(`#bidInput${id}`).val().trim();
          if (price === '' || parseFloat(price) < 0.000000000000001) {
            $(`#bidButton${id}`).attr('class', 'button is-fullwidth is-info is-outlined');
            $(`#bidInput${id}Error`).css('display', 'inline');
            $(`#bidInput${id}Error`).text('The Price is Too Low. ');
            return;
          }
          if (parseFloat(price) > balance) {
            $(`#bidButton${id}`).attr('class', 'button is-fullwidth is-info is-outlined');
            $(`#bidInput${id}Error`).css('display', 'inline');
            return;
          }

          const [order, aerr] = await safePromise(campaign.methods.post_bid(id).send({ from: window.ethereum.selectedAddress, value: window.web3.utils.toWei(price) }));
          if (aerr) {
            $(`#bidButton${id}`).attr('class', 'button is-fullwidth is-info is-outlined');
            return;
          }
          const orderId = parseInt(order.events.OrderPosted.returnValues.order_id);
          const [bid, oerr] = await safePromise(campaign.methods.orders(orderId).call({ from: window.ethereum.selectedAddress }));
          bid.price = parseFloat(window.web3.utils.fromWei(bid.price));
          $(`#bidButton${id}`).attr('class', 'button is-fullwidth is-info is-outlined');
          $(`#dexBidTable${id}`).append(createDexBidRow(id, bid));
        }

        async function cancelBid(nftId, orderId) {
          $(`#cancelBidButton${nftId}${orderId}`).attr('class', 'button is-outlined is-danger is-loading');
          const [bid, aerr] = await safePromise(campaign.methods.cancel_bid(orderId).send({ from: window.ethereum.selectedAddress }));
          $(`#cancelBidButton${nftId}${orderId}`).attr('class', 'button is-outlined is-danger');
          if (aerr) return;
          $(`#dexRow${nftId}${orderId}`).css('display', 'none');
        }

        async function sellRewardOnDex(nftId, orderId) {
          const [balance, berr] = await safePromise(campaign.methods.balanceOf(window.ethereum.selectedAddress, nftId).call({ from: window.ethereum.selectedAddress }));
          if (balance === '0') {
            $(`#bidButton${nftId}`).attr('class', 'button is-fullwidth is-info is-outlined');
            $(`#bidInput${nftId}Error`).css('display', 'inline');
            return;
          }
          $(`#buyBidButton${nftId}${orderId}`).attr('class', 'button is-outlined is-primary is-loading');
          const [bid, oerr] = await safePromise(campaign.methods.orders(orderId).call({ from: window.ethereum.selectedAddress }));
          const [call, cerr] = await safePromise(campaign.methods.call_bid(orderId).send({ from: window.ethereum.selectedAddress }));
          $(`#buyBidButton${nftId}${orderId}`).attr('class', 'button is-outlined is-primary');
          if (cerr) return;
          $(`#dexRow${nftId}${orderId}`).css('display', 'none');
        }

        async function loadRewards(rewards, isFunded) {
          for (let id in rewards) {
            const [balance, berr] = await safePromise(campaign.methods.balanceOf(window.ethereum.selectedAddress, id).call({ from: window.ethereum.selectedAddress }));
            let str_template = ('<div class="card mt-3"> \
                      <div class="card-image"> \
                        <figure class="image is-4by3"> \
                          <img src="#IMAGE#" alt="Reward Image"> \
                        </figure> \
                      </div> \
                      <div class="card-content"> \
                        <div class="title">#TITLE#</div> \
                        <div class="subtitle">#SUBTITLE#</div> \
                        \
                        <div class="columns"> \
                          <div class="column"> \
                            <div style="font-weight: bold;">Estimated Delivery</div> \
                            <div>#DT#</div> \
                          </div> \
                          <div class="column is-narrow"> \
                            <div style="font-weight: bold;">Balance</div> \
                            <div id="rewardBalance#ID#">#BALANCE#</div> \
                          </div> \
                        </div> \
                        \
                        <div class="columns"> \
                          <div class="column"> \
                            <div style="font-weight: bold;">Price (with collateral)</div> \
                            <div>#PRICE#</div> \
                          </div> \
                          <div class="column is-narrow"> \
                            <div style="font-weight: bold;">Left</div> \
                            <div id="left#ID#">#LEFT#</div> \
                          </div> \
                        </div> \
                        <div class="field"> \
                          <div id="buyButton' + id + '" class="button is-primary is-fullwidth mt-3" onclick="buyButtonClicked(' + id + ')">Buy</div> \
                        </div> \
                        <div class="field"> \
                          <div id="claimButton' + id + '" class="button is-success is-fullwidth" onclick="claimButtonClicked(' + id + ')">Claim</div> \
                          <p id="claim' + id + 'Error" class="help is-danger" style="display: none;">You Don\'t Have Sufficient Balance. </p> \
                        </div> \
                      </div> \
                    </div>').replace('#TITLE#', rewards[id].name)
                      .replace("#SUBTITLE#", rewards[id].description)
                      .replace("#PRICE#", rewards[id].collateral)
                      .replace("#LEFT#", rewards[id].left)
                      .replaceAll("#ID#", id + '')
                      .replace("#BALANCE#", balance + '')
                      .replace("#DT#", rewards[id].delivery_at)
                      .replace("#IMAGE#", rewards[id].featured_image);
            $('#rewardHolder').append(str_template);
            if (isFunded && balance > 0) {
              $('#rewardInfo' + id).css('display', 'inline');
            }
            ifDisableBuyButton(rewards[id], id);
          }          
        }

        async function claimButtonClicked(id) {
          $(`#claimButton${id}`).attr('class', 'button is-success is-fullwidth is-loading');
          const [balance, berr] = await safePromise(campaign.methods.balanceOf(window.ethereum.selectedAddress, id).call({ from: window.ethereum.selectedAddress }));
          if (balance === '0') {
            $(`#claimButton${id}`).attr('class', 'button is-success is-fullwidth');
            $(`#claim${id}Error`).text('You Don\'t Have Sufficient Balance.');
            $(`#claim${id}Error`).css('display', 'inline');
            return;
          }

          const [isFunded, iferr] = await safePromise(campaign.methods.is_funded().call({ from: window.ethereum.selectedAddress }));
          if (!isFunded) {
            $(`#claimButton${id}`).attr('class', 'button is-success is-fullwidth');
            $(`#claim${id}Error`).text('Campaign is not funded yet.');
            $(`#claim${id}Error`).css('display', 'inline');
            return;
          }

          const [claim, cerr] = await safePromise(campaign.methods.claim_reward(id, 1).send({ from: window.ethereum.selectedAddress }));
          if (cerr) {
            $(`#claimButton${id}`).attr('class', 'button is-success is-fullwidth');
            return;
          }

          $(`#claimButton${id}`).attr('class', 'button is-success is-fullwidth');
        }

        function validate(keys) {
            let valid = true;
            for(let i = 0; i < keys.length; i++) {
                valid = validateId(keys[i]) && valid;
            }
            return valid;
        }

        function validateId(id) {
            if ($('#' + id).val().trim() === '') {
                $('#' + id + 'Error').css('display', 'inline');
                return false;
            }
            return true;
        }

        async function buyButtonClicked(id) {
          $('#buyButton' + id).attr('class', 'button is-primary is-fullwidth mt-3 is-loading');
          const reward = campaignRewards[id];
          const [approveTx, aerr] = await safePromise(token.methods.approve(campaignAddress, reward.collateralWei).send({ from: window.ethereum.selectedAddress }));
          if (aerr) {
            console.log(aerr);
            $('#buyButton' + id).attr('class', 'button is-primary is-fullwidth mt-3');
            return;
          }
          
          const [br, brerr] = await safePromise(campaign.methods.buy_reward(id).send({ from: window.ethereum.selectedAddress }));
          if (brerr) {
            console.log(brerr);
            $('#buyButton' + id).attr('class', 'button is-primary is-fullwidth mt-3');
            return;
          }

          const [r, rerr] = await safePromise(campaign.methods.id_reward(id).call({ from: window.ethereum.selectedAddress }));
          if (rerr) {
            console.log(rerr);
            $('#buyButton' + id).attr('class', 'button is-primary is-fullwidth mt-3');
            return;
          }
          ifDisableBuyButton({totalSupply: r.total_supply, currentSupply: r.current_supply}, id);
          $('#left' + id).text(r.current_supply + " / " + r.total_supply);

          const [balance, berr] = await safePromise(campaign.methods.balanceOf(window.ethereum.selectedAddress, id).call({ from: window.ethereum.selectedAddress }));
          $('#rewardBalance' + id).text(balance + '');

          $('#buyButton' + id).attr('class', 'button is-primary is-fullwidth mt-3');
        }

        function ifDisableBuyButton(reward, id) {
          if (reward.totalSupply === reward.currentSupply) {
            $('#buyButton' + id).attr('disabled', 'disabled');
          }
        }

        function safePromise(promise) {
            return promise.then(data => [ data ]).catch(error => [ null, error ]);
        }

        function diffTimestamp(timestamp) {
          let now = moment();
          let daysDiff = now.diff(timestamp, "days");
          return daysDiff === 0 ? moment(timestamp).format('MMMM Do YYYY') : 'Created ' + daysDiff + ' day(s) ago. ';
        }

        function turnErrorModal() {
            $('#errorModal').attr('class', 'modal is-active');
        }

        function closeErrorModal() {
            $('#errorModal').attr('class', 'modal');
        }

        function closeNetworkModal() {
            $('#networkModal').attr('class', 'modal');
        }

        function connectWalledClicked() {
            if (!validateMetaMask()) return;
            
            if (!mmConnected) {
              ethereum.request({ method: 'eth_requestAccounts' })
                    .then(accounts => { 
                      $('#connectButton').text('Connected');
                      if (!(window.ethereum.chainId === '0x13881')) {
                        $('#networkModal').attr('class', 'modal is-active');
                      }
                    })
                    .catch(err => {
                      $('#connectButton').text('Connect Wallet');
                    });
            }
        }

        function validateMetaMask() {
            if (typeof window.ethereum === 'undefined') {
                turnErrorModal();
                return false;
            }
            return true;
        }

        function turnModal(message) {
            $('#modal-span').text(message);
            $('#modal').attr('class', 'modal is-active');
        }

        function closeModal() {
            $('#modal').attr('class', 'modal');
        }

        $(document).ready(function() {
            connectWalledClicked();
            loadContractData(sampleCFAddress);
        });
    </script>

    <style>
      html * {
        font-family: Sofia Pro, sans-serif !important;
      }

      th {
        font-weight: 400;
        font-size: 16px;
      }

      td {
        font-weight: 400;
        font-size: 16px;
      }

      /*
      .button {
        border-radius: 20px;
        border: 1px solid transparent;
      }

      .card {
        position: relative;
        background: rgb(25, 27, 31);
        box-shadow: rgba(0, 0, 0, 0.01) 0px 0px 1px, rgba(0, 0, 0, 0.04) 0px 4px 8px, rgba(0, 0, 0, 0.04) 0px 16px 24px, rgba(0, 0, 0, 0.01) 0px 24px 32px;
        border-radius: 24px;
      }
      */

    </style>

  </head>
  <body>

    <noscript>You need to enable JavaScript to run this app.</noscript>
    
    <div id="root">
        <nav class="navbar" role="navigation" aria-label="main navigation" style="background-color: #ffffff">
            <div class="navbar-brand">
          
              <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample">
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
              </a>
            </div>
          
            <div id="navbarBasicExample" class="navbar-menu">

              <div class="navbar-start">
                <div class="navbar-item">
                  <a href="/" style="display: flex; justify-content: center; ">
                    <img src="https://gateway.pinata.cloud/ipfs/Qmf9jTWm2iUzLi711fhFiHbMJFyvCkBat11z17bC6KF2e6" width="56" height="56" style="min-height: 56px;"></img>
                    <u style="font-size: 48px; color: #da4a54;">trustless-crowd</u></a>
                </div>
              </div>

              <div class="navbar-end">

                <div class="navbar-item">
                    <div id="connectButton" class="button is-outlined is-large is-primary" onclick="connectWalledClicked();">
                        <a>Connect Wallet</a>
                    </div>
                </div>

              </div>
        
            </div>
          </nav>


          <div class="columns">
            <div class="column is-1"></div>

            <div class="column is-10">
              <div class="container">
                <div class="columns">

                  <div class="column is-two-third">
                    <div class="section">
                      <h1 id="title" class="title"></h1>

                      <figure class="image">
                        <img id="featuredImage" width="720px" height="405px"></img>
                      </figure>

                      <hr />

                      <iframe id="youtubeFrame" width="560" height="315" title="YouTube video player" frameBorder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowFullScreen></iframe>

                      <h2 id="subtitle" class="subtitle mt-3"></h2>

                      <hr/>

                      <p id="email" class="subtitle"></p>

                      <hr/>

                      <div class="columns">
                        <div class="column is-one-third">
                          <div id="createdAt"></div>
                        </div>
    
                        <div class="column is-one-third">
                          <div id="location"></div>
                        </div>
    
                        <div class="column is-one-third">
                          <div id="category"></div>
                        </div>
                      </div>
    
                      <hr/>
    
                      <div class="container" id="story"></div>
    
                      <hr/>

                    </div>
                  </div>

                  <div class="column is-one-third">

                    <div class="card mt-6">

                      <div class="card-content">
    
                        <p id="fundingGoalP" class="subtitle"><strong>0.0</strong> USDT</p>
    
                        <progress id="progressBar" class="progress is-success" max="100">60%</progress>
    
                        <div class="columns">
                          <div class="column is-half">
                            <p class="subtitle">
                              <img width="32" height="32" id="coinImg" src="https://gateway.pinata.cloud/ipfs/QmVr4XRHtRntFffZ2A89qVaEHTEWGQLMDSdLPSZV8Rxmks" alt="ethereum"/>
                              <strong id="fundingBalanceS"> 0.0USDT</strong><span style="font-size: 12px" id="fundingGoalS"> raised of 0.0USDT goal. </span>
                            </p>
                          </div>
                          <div class="column is-half">
                            <p class="subtitle"><strong id="dateTimeS">Expired</strong> </p>
                          </div>
                        </div>
    
                        <div class="field">
                          <div class="button is-link is-fullwidth mt-3">Share</div>
                        </div>
    
                        <div class="field">
                          <div id="withdrawButton" class="button is-success is-fullwidth" style="display: none;" disabled>Withdraw</div>
                        </div>
    
                      </div>
                    </div>

                    <div id="rewardHolder"></div>

                  </div>

                </div>

                <div class="columns">
                  <div class="column is-two-third">

                    <!--Updates-->

                    <article id="updateArticle" class="media" style="display: none;">
                      <div class="media-content">
                        <div class="field">
                          <p class="control">
                            <textarea id="updateArea" class="textarea" placeholder="Add an Update..."></textarea>
                          </p>
                        </div>
                        <nav class="level">
                          <div class="level-left">
                            <div class="level-item">
                              <a id="updateButton" class="button is-info" onclick="submitUpdateClicked();">Submit</a>
                            </div>
                          </div>
                        </nav>
                      </div>
                    </article>

                    <h1 id="updatesHeader" class="title mt-6">Updates (0)</h1>

                    <div id="updateDiv"></div>

                    <div class="field mt-3">
                      <div id="loadUpdatesButton" class="button is-info is-outlined" style="display: none;" onclick="loadUpdatesClicked();">Load More</div>
                    </div>

                    <hr />

                    <!--Comments-->

                    <article class="media">
                      <figure class="media-left">
                        <p class="image is-64x64">
                          <img src="https://bulma.io/images/placeholders/128x128.png">
                        </p>
                      </figure>
                      <div class="media-content">
                        <div class="field">
                          <p class="control">
                            <textarea id="commentArea" class="textarea" placeholder="Add a Comment..."></textarea>
                          </p>
                        </div>
                        <nav class="level">
                          <div class="level-left">
                            <div class="level-item">
                              <a id="commentButton" class="button is-info" onclick="submitCommentClicked();">Submit</a>
                            </div>
                          </div>
                        </nav>
                      </div>
                    </article>

                    <h1 id="commentsHeader" class="title mt-6">Comments (0)</h1>

                    <div id="commentDiv"></div>

                    <div class="field mt-3">
                      <div id="loadCommentsButton" class="button is-info is-outlined" style="display: none;" onclick="loadCommentsClicked();">Load More</div>
                    </div>

                  </div>
                  <div class="column is-one-third"></div>
                </div>

              </div>

              <div id="dexContainer" class="title has-text-centered">
                DEX
              </div>

            </div>

            <div class="column is-1"></div>
          </div>

        <footer class="footer">
          <div class="container">

            <div class="columns">

              <div class="column is-1"></div>

              <div class="column is-4">    
                <strong class="mb-1">Donate to Dev: </strong>    
                <div class="columns">
                  <div class="column">

                    <div class="field">
                      <p class="control has-icons-left">
                        <input id="donateInput" class="input" type="number">
                        <span class="icon is-small is-left">
                          <i class="fa fa-heart"></i>
                        </span>
                      </p>
                    </div>

                  </div>
                  <div class="column">

                    <div id="donateButton" onclick="donateClicked();" class="button is-primary">Donate</div>

                  </div>
                </div>
              </div>

              <div class="column is-3">     
                <strong class="mb-1">Paste Link to Avatar Image: </strong>          
                <div class="columns">
                  <div class="column">

                    <div class="field">
                      <p class="control">
                        <input id="avatarInput" class="input" type="text" placeholder="Set Avatar">
                      </p>
                    </div>

                  </div>
                  <div class="column">

                    <div id="avatarButton" class="button is-info" onclick="setAvatarClicked();">Set</div>

                  </div>
                </div>
              </div>

              <div class="column is-3">               
                <strong class="mb-1">Set Your Nickname: </strong>          
                <div class="columns">
                  <div class="column">

                    <div class="field">
                      <p class="control">
                        <input id="nicknameInput" class="input" type="text" placeholder="Set Nickname">
                      </p>
                    </div>

                  </div>
                  <div class="column">

                    <div id="nicknameButton" onclick="setNicknameClicked();" class="button is-info">Set</div>

                  </div>
                </div>
              </div>

              <a class="column is-narrow" href="https://discord.gg/uDzjZBFY">
                <figure class="image is-128x128">
                  <img src="https://www.svgrepo.com/show/353655/discord-icon.svg" alt="Discord">
                </figure>
              </a>

              <div class="column is-1"></div>
            </div>

            <div class="content has-text-centered">
              <br />
              <p>
                Made with <strong>❤️</strong> from Serbia.  
              </p>
            </div>
          </div>
        </footer>

        <div id="errorModal" class="modal">
          <div class="modal-background"></div>
          <div class="modal-card">
            <header class="modal-card-head">
              <p class="modal-card-title has-text-centered"><strong>Meta Mask Not Installed!</strong></p>
              <button class="delete" aria-label="close" onclick="closeErrorModal();"></button>
            </header>
            <section class="modal-card-body">
              <p class="subtitle has-text-centered">This Website Requires Meta Mask to Be Installed. </p>
              <p class="subtitle has-text-centered">Please visit <a target="_blank" href="https://metamask.io/">this link</a>. </p>
            </section>
            <footer class="modal-card-foot">
              <button class="button is-success" onclick="closeErrorModal();">Ok</button>
            </footer>
          </div>
        </div>

        <div id="networkModal" class="modal">
          <div class="modal-background"></div>
          <div class="modal-card">
            <header class="modal-card-head">
              <p class="modal-card-title has-text-centered"><strong>Polygon Testnet Network Not Selected!</strong></p>
              <button class="delete" aria-label="close" onclick="closeNetworkModal();"></button>
            </header>
            <section class="modal-card-body">
              <p class="subtitle has-text-centered">Please Select Polygon Testnet Network on MetaMask and Reload the Page. </p>
            </section>
            <footer class="modal-card-foot">
              <button class="button is-success" onclick="closeNetworkModal();">Ok</button>
            </footer>
          </div>
        </div>
    </div>
  </body>
</html>